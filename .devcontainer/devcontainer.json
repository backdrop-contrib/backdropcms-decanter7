// See: https://www.drupal.org/docs/develop/development-tools/editors-and-ides/configuring-visual-studio-code
{
	"name": "${localWorkspaceFolderBasename} - Dev Container",
	"dockerComposeFile": "../compose.yml",
	"service": "php",
	"workspaceFolder": "/workspace",
	"containerEnv": {
		"PROJECT": "${localWorkspaceFolderBasename}",
		"COMPOSE_PROJECT_NAME": "${localWorkspaceFolderBasename}",
	},
	"postStartCommand": "install-app",
	"forwardPorts": [8888],
	"features": {
		"ghcr.io/devcontainers/features/common-utils:2": {
				"installZsh": "true",
				"username": "vscode",
				"userUid": "1000",
				"userGid": "1000",
				"upgradePackages": "true"
		},
		"ghcr.io/devcontainers/features/node:1": "none"
		// "ghcr.io/devcontainers/features/git:1": {
		// 		"version": "latest",
		// 		"ppa": "false"
		// }
	},
	"overrideFeatureInstallOrder": [
		"ghcr.io/devcontainers/features/common-utils"
	],
	"customizations": {
		"vscode": {
			"settings": {
				"php.validate.executablePath": "/usr/local/bin/php",
				"workbench.colorCustomizations": {
					"activityBar.activeBackground": "#fbed80",
					"activityBar.background": "#fbed80",
					"activityBar.foreground": "#15202b",
					"activityBar.inactiveForeground": "#15202b99",
					"activityBarBadge.background": "#06b9a5",
					"activityBarBadge.foreground": "#15202b",
					"commandCenter.border": "#15202b99",
					"sash.hoverBorder": "#fbed80",
					"statusBar.background": "#f9e64f",
					"statusBar.foreground": "#15202b",
					"statusBarItem.hoverBackground": "#f7df1e",
					"statusBarItem.remoteBackground": "#f9e64f",
					"statusBarItem.remoteForeground": "#15202b",
					"titleBar.activeBackground": "#f9e64f",
					"titleBar.activeForeground": "#15202b",
					"titleBar.inactiveBackground": "#f9e64f99",
					"titleBar.inactiveForeground": "#15202b99"
				},
				"files.exclude": {
					".*": true,
					"**/.git": true,
					"**/.DS_Store": true,
					"**/Thumbs.db": true
				},
				"cSpell.enabled": true,
				"cSpell.words": [
						"devcontainer",
						"backstop",
						"devcontainer",
						"preprocess",
						"proot",
						"reqs",
						"viewports",
						"yamls",
						"zcat",
						"devel"
					],
					"files.associations": {
						"*.inc": "php",
						"*.module": "php",
						"*.theme": "php",
						"*.install": "php"
					},
					"[php]": {},
					"workbench.startupEditor": "none",
					"task.allowAutomaticTasks": "on",
					"terminal.integrated.defaultProfile.linux": "zsh",
					"debug.internalConsoleOptions": "neverOpen",
					"debug.showBreakpointsInOverviewRuler": false,
					"debug.terminal.clearBeforeReusing": false,
					"editor.tabSize": 2
    },
    "extensions": [
					"xdebug.php-debug",
					"bmewburn.vscode-intelephense-client",
					"mrmlnc.vscode-apache",
					"streetsidesoftware.code-spell-checker",
					"EditorConfig.EditorConfig",
					"ms-azuretools.vscode-docker",
					"DavidAnson.vscode-markdownlint",
					"yzhang.markdown-all-in-one",
					"donjayamanne.githistory",
					"bradlc.vscode-tailwindcss",
					"github.vscode-github-actions"
				]
			}
		}
	}
